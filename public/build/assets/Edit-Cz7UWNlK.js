import{S as _}from"./SuccessButton-BZ9yOyyC.js";import{_ as x,a as y}from"./Modal-DvnjQoX6.js";import{_ as u,a as k,b as m}from"./TextInput-C77RMC_j.js";import{m as B,u as w,g as C,a as l,w as r,f as c,c as E,d as o,b as s,n as h,F as V,p as F,o as g}from"./app-DY_DMkJy.js";import{Q as $}from"./vue-quill.snow-p8YJwdrt.js";import{W as S}from"./WarningButton-QIX9KKqf.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/* empty css            */const T={class:"p-6"},j={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},N={class:"mt-6"},U={class:"mt-6 flex justify-end"},O={__name:"Edit",props:{blog:Object},setup(p){const i=F(!1),d=B("alertRef"),a=p;let e=w({title:a.blog?.title||"",content:a.blog?.content||"",image:null});const b=()=>{e.title=a.blog?.title||"",e.content=a.blog?.content||"",e.image=null,i.value=!0},f=()=>{i.value=!1,e.clearErrors(),e.reset({title:"",content:"",image:null})},v=()=>{e.post(route("blogs.edit",{id:a.blog.id}),{forceFormData:!0,preserveScroll:!0,onSuccess:()=>{i.value=!1,e.clearErrors(),e.reset({title:"",content:"",image:null}),d.value.showAlert("Blog updated successfully!","success")},onError:()=>{d.value.showAlert("Validation failed. Please check your inputs.","error")},onFinish:()=>{e.reset({title:"",content:"",image:null})}})};return(W,t)=>(g(),C(V,null,[l(S,{onClick:b},{default:r(()=>[...t[3]||(t[3]=[c(" Edit ",-1)])]),_:1}),(g(),E(y,{show:i.value,onClose:f,key:a.blog.id},{default:r(()=>[o("div",T,[t[6]||(t[6]=o("h2",{class:"text-lg font-medium text-gray-900"}," Edit Blog ",-1)),o("div",j,[o("div",null,[l(u,{for:"title",value:"Title"}),l(k,{id:"title",modelValue:s(e).title,"onUpdate:modelValue":t[0]||(t[0]=n=>s(e).title=n),type:"text",class:"mt-1 block w-full",placeholder:"Enter Title",required:""},null,8,["modelValue"]),l(m,{message:s(e).errors.title,class:"mt-2"},null,8,["message"])]),o("div",null,[l(u,{for:"image",value:"Image"}),o("input",{type:"file",accept:"image/*",onChange:t[1]||(t[1]=n=>s(e).image=n.target.files[0]),class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32),l(m,{message:s(e).errors.image,class:"mt-2"},null,8,["message"])])]),o("div",N,[l(u,{for:"content",value:"Content"}),l(s($),{content:s(e).content,"onUpdate:content":t[2]||(t[2]=n=>s(e).content=n),contentType:"html",theme:"snow",placeholder:"Write your blog content here...",style:{height:"300px"}},null,8,["content"]),l(m,{message:s(e).errors.content,class:"mt-2"},null,8,["message"])]),o("div",U,[l(x,{onClick:f},{default:r(()=>[...t[4]||(t[4]=[c(" Cancel ",-1)])]),_:1}),l(_,{class:h(["ms-3",{"opacity-25":s(e).processing}]),disabled:s(e).processing,onClick:v},{default:r(()=>[...t[5]||(t[5]=[c(" Update ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"]))],64))}};export{O as default};
