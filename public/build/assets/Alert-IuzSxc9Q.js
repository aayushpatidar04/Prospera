import{m as _,u as v,g,a as t,w as a,f as d,d as o,b as l,j as x,G as w,n as A,F as k,p as C,o as S}from"./app-Bdlj_eyr.js";import{P as V}from"./PrimaryButton-Ca4AkUkT.js";import{S as F}from"./SuccessButton-Bz7u3Upj.js";import{_ as B,a as M}from"./Modal-CKLfPCgW.js";import{_ as u,a as $,b as c}from"./TextInput-CNf3_hpN.js";/* empty css            */import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"p-6"},N={class:"mt-6"},T={class:"mt-6 flex justify-end"},q={__name:"Alert",props:{id:Number},setup(f){const p=f,i=_("alertRef"),r=C(!1),e=v({title:"",body:""}),b=()=>{r.value=!0},y=()=>{e.post(route("recommendations.send-alert",p.id),{preserveScroll:!0,onSuccess:()=>{r.value=!1,e.clearErrors(),e.reset({title:"",body:""}),i.value.showAlert("Alert sent successfully!","success")},onError:()=>{i.value.showAlert("Failed to send alert!","error")},onFinish:()=>{e.reset({title:"",body:""})}})},m=()=>{r.value=!1,e.clearErrors(),e.reset({title:"",body:""})};return(j,s)=>(S(),g(k,null,[t(V,{onClick:b},{default:a(()=>[...s[2]||(s[2]=[d(" Send Alert ",-1)])]),_:1}),t(M,{show:r.value,onClose:m},{default:a(()=>[o("div",E,[s[5]||(s[5]=o("h2",{class:"text-lg font-medium text-gray-900"}," Send Alert ",-1)),o("div",null,[t(u,{for:"title",value:"Title"}),t($,{id:"title",modelValue:l(e).title,"onUpdate:modelValue":s[0]||(s[0]=n=>l(e).title=n),type:"text",class:"mt-1 block w-full",placeholder:"Title"},null,8,["modelValue"]),t(c,{message:l(e).errors.title,class:"mt-2"},null,8,["message"])]),o("div",N,[t(u,{for:"body",value:"Message"}),x(o("textarea",{id:"body","onUpdate:modelValue":s[1]||(s[1]=n=>l(e).body=n),class:"mt-1 block w-full border-gray-300 rounded",placeholder:"Alert Message"},null,512),[[w,l(e).body]]),t(c,{message:l(e).errors.body,class:"mt-2"},null,8,["message"])]),o("div",T,[t(B,{onClick:m},{default:a(()=>[...s[3]||(s[3]=[d(" Cancel ",-1)])]),_:1}),t(F,{class:A(["ms-3",{"opacity-25":l(e).processing}]),disabled:l(e).processing,onClick:y},{default:a(()=>[...s[4]||(s[4]=[d(" Send ",-1)])]),_:1},8,["class","disabled"])])])]),_:1},8,["show"])],64))}};export{q as default};
